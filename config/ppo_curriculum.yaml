# config/ppo_curriculum.yaml - AGGRESSIVE CURRICULUM
# No defensive training - focus on hitting and shooting!

# ============================================
# SHARED CONFIGURATION
# ============================================
shared:
  n_steps: 2048
  batch_size: 64
  n_epochs: 10
  gamma: 0.99
  gae_lambda: 0.95
  clip_range: 0.2
  clip_range_vf: 0.2
  vf_coef: 0.5
  max_grad_norm: 0.5
  num_agents_team_a: 2
  num_agents_team_b: 2
  device: "cpu"
  hidden_dim: 128
  log_interval: 5
  save_interval: 25
  checkpoint_dir: "checkpoints"
  log_dir: "logs"

# ============================================
# PHASE 1: LEARN HITTING (vs Static)
# ============================================
phase_1:
  name: "learn_hitting"
  timesteps: 150000
  opponent_type: "static"
  max_score: 100
  max_steps: 600
  learning_rate: 0.001
  ent_coef: 0.20
  clip_range: 0.3
  rewards:
    approach_puck_in_half: 0.0
    close_to_puck: 0.0
    puck_velocity_toward_goal: 0.0
    defensive_position: 0.0  # ← No defensive rewards!
    center_coverage: 0.0
    action_penalty: 0.0
    unnecessary_movement: 0.0
    teammate_collision: 0.0

# ============================================
# PHASE 2: LEARN SHOOTING (vs Static)
# ============================================
phase_2:
  name: "learn_shooting"
  timesteps: 200000  # Give it more time (increased from 150k)
  opponent_type: "static"
  max_score: 3
  max_steps: 800
  learning_rate: 0.0002  # Much more conservative
  ent_coef: 0.15
  clip_range: 0.2
  rewards:
    approach_puck_in_half: 0.0
    close_to_puck: 0.0
    puck_velocity_toward_goal: 0.0
    defensive_position: 0.0  # ← No defensive rewards!
    center_coverage: 0.0
    action_penalty: 0.0
    unnecessary_movement: 0.0
    teammate_collision: 0.1

# ============================================
# PHASE 3: FULL GAME (vs Simple AI)
# ============================================
# Jump straight to competitive play!
phase_3:
  name: "full_game"
  timesteps: 200000
  opponent_type: "simple"
  max_score: 5
  max_steps: 1800
  learning_rate: 0.0005  # Higher LR than before (more aggressive learning)
  ent_coef: 0.10  # Higher entropy (more exploration)
  clip_range: 0.2
  rewards:
    approach_puck_in_half: 0.0
    close_to_puck: 0.0
    puck_velocity_toward_goal: 0.0
    defensive_position: 0.0  # ← ZERO defensive rewards!
    center_coverage: 0.0      # ← ZERO coverage rewards!
    action_penalty: 0.0
    unnecessary_movement: 0.0
    teammate_collision: 0.3

# ============================================
# AGGRESSIVE CURRICULUM SUMMARY
# ============================================
# Total: 500,000 timesteps (~1 hour)
# 
# Phase 1: Learn hitting (vs static)
# Phase 2: Learn shooting (vs static)  
# Phase 3: Full game (vs simple AI)
#
# NO defensive training - pure offense!
# Agents rewarded ONLY for:
# - Approaching puck (+5/step)
# - Hitting puck (+100)
# - Shooting toward goal (+200)
# - Scoring goals (+1000)